<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>C语言知识笔记1 | Rin_laurant's blog</title><meta name="author" content="Rin_laurant,sx934215479@163.com"><meta name="copyright" content="Rin_laurant"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="此文章基于《C Programming Language (2nd Edition)》,主要是本人对 C 语言的具体认识以及对 C 程序语言的阅读感想。  A Tutorial Introduction We have to concentrate on the basics: variables and constants, arithmetic, control flow, function">
<meta property="og:type" content="article">
<meta property="og:title" content="C语言知识笔记1">
<meta property="og:url" content="https://sx9342.github.io/2024/09/10/C%E8%AF%AD%E8%A8%80%E7%9F%A5%E8%AF%86%E7%AC%94%E8%AE%B01/index.html">
<meta property="og:site_name" content="Rin_laurant&#39;s blog">
<meta property="og:description" content="此文章基于《C Programming Language (2nd Edition)》,主要是本人对 C 语言的具体认识以及对 C 程序语言的阅读感想。  A Tutorial Introduction We have to concentrate on the basics: variables and constants, arithmetic, control flow, function">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://sx9342.github.io/img/giFnui8.jpg">
<meta property="article:published_time" content="2024-09-10T07:42:56.000Z">
<meta property="article:modified_time" content="2024-09-18T09:18:44.682Z">
<meta property="article:author" content="Rin_laurant">
<meta property="article:tag" content="C语言">
<meta property="article:tag" content="计算机软件">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://sx9342.github.io/img/giFnui8.jpg"><link rel="shortcut icon" href="/img/LOGO.png"><link rel="canonical" href="https://sx9342.github.io/2024/09/10/C%E8%AF%AD%E8%A8%80%E7%9F%A5%E8%AF%86%E7%AC%94%E8%AE%B01/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'C语言知识笔记1',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-09-18 17:18:44'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/sound-horizon-wallpaper-3.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">9</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/giFnui8.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Rin_laurant's blog"><img class="site-icon" src="/img/LOGO.png"/><span class="site-name">Rin_laurant's blog</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">C语言知识笔记1</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-09-10T07:42:56.000Z" title="发表于 2024-09-10 15:42:56">2024-09-10</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-09-18T09:18:44.682Z" title="更新于 2024-09-18 17:18:44">2024-09-18</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/C%E8%AF%AD%E8%A8%80/">C语言</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="C语言知识笔记1"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><blockquote>
<p>此文章基于《C Programming Language (2nd Edition)》,主要是本人对 C 语言的具体认识以及对 C 程序语言的阅读感想。</p>
</blockquote>
<h1 id="A-Tutorial-Introduction"><a href="#A-Tutorial-Introduction" class="headerlink" title="A Tutorial Introduction"></a>A Tutorial Introduction</h1><blockquote>
<p>We have to concentrate on the basics: variables and constants, arithmetic, control flow, functions, and the rudiments of input and output.</p>
</blockquote>
<blockquote>
<p>The C programming language include pointers, structures, most of C’s rich set of operators, several control−flow statements, and the standard library.</p>
</blockquote>
<p>简单粗暴的来说 C 语言的基础包含变量与常量，控制流，函数以及一些入门的输入输出。语言性质还包含了指针，结构体，算子集，以及标准库。</p>
<p><strong>C 语言是一个面向过程的编程语言！</strong></p>
<h2 id="Getting-Started"><a href="#Getting-Started" class="headerlink" title="Getting Started"></a>Getting Started</h2><blockquote>
<p>In C, the program to print <em>hello,world</em> is</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line">    main()</span><br><span class="line"> &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;hello, world\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>you should create the program in a file whose name ends in <code>.c</code> such as <code>hello.c</code> compile it with the command</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cc hello.c</span><br></pre></td></tr></table></figure>

<p>当你照做后，你会发现在 GCC 编译器中：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hello.c:4:1: error: <span class="built_in">return</span> <span class="built_in">type</span> defaults to ‘int’ [-Wimplicit-int]</span><br><span class="line">    4 | main()</span><br><span class="line">      | ^~~~</span><br></pre></td></tr></table></figure>

<blockquote>
<p>为什么会报错呢？因为在旧的 C 编译器中是允许这样的写法，但是随着 C 语言语法的规范化逐渐不再使用这种写法，为了代码的可移植性和清晰性，推荐写成<code>int main()</code> 或者<code>int main(int argc, char *argv[])</code></p>
</blockquote>
<blockquote>
<p>Our example is a function named main. Normally you are at liberty togive functions whatever names you like, but <code>main</code> is special − your program begins executing at thebeginning of main. This means that every program must have a main somewhere</p>
</blockquote>
<hr>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>这个是 C 的头文件，我们接下来一点一点讲解这行代码。<br><code>#include</code>叫做文件包含命令，用来引入对应的头文件（.h 文件）。#include 也是 C 语言预处理命令的一种。</p>
<p>有两种常用的 #include 方式：</p>
<ol>
<li>尖括号方式 <code>&lt; &gt;</code>：</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>双引号方式<code>“ ”</code>：</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;myheader.h&quot;</span></span></span><br></pre></td></tr></table></figure>

<p>使用双引号时，编译器首先会在<strong>当前源文件所在的目录</strong>查找头文件。如果没有找到，再去标准系统目录中查找。常用于引入<strong>用户自定义</strong>的头文件。<br>使用尖括号时，编译器会在<strong>标准系统目录</strong>（如编译器自带的头文件路径）中查找头文件。常用于引入<strong>标准库</strong>或<strong>第三方库</strong>的头文件。</p>
<p>C 语言一切都是从 main 开始的，main 是主函数，是程序开始的接口，任何函数都是从这里开始的。</p>
<blockquote>
<p>The statements of a function are enclosed in braces { }. The function main contains only one statement</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;hello,world\n&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>函数<code>printf()</code>是一个库函数负责打印输出，在双引号中是要输出的字符串。<code>\n</code>是转义字符，在这里是为了自动换行。</p>
<blockquote>
<p>Notice that \n represents only a single character. An escape sequence like \n provides a general andextensible mechanism for representing hard−to−type or invisible characters. Among the others that C providesare \t for tab, \b for backspace, &quot; for the double quote and \ for the backslash itself</p>
</blockquote>
<table>
<thead>
<tr>
<th>转义字符</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>\n</code></td>
<td>换行符</td>
</tr>
<tr>
<td><code>\t</code></td>
<td>制表符（水平制表）</td>
</tr>
<tr>
<td><code>\r</code></td>
<td>回车符</td>
</tr>
<tr>
<td><code>\b</code></td>
<td>退格符</td>
</tr>
<tr>
<td><code>\\</code></td>
<td>反斜杠符</td>
</tr>
<tr>
<td><code>\&#39;</code></td>
<td>单引号</td>
</tr>
<tr>
<td><code>\&quot;</code></td>
<td>双引号</td>
</tr>
<tr>
<td><code>\0</code></td>
<td>空字符（NUL）</td>
</tr>
<tr>
<td><code>\v</code></td>
<td>垂直制表符</td>
</tr>
<tr>
<td><code>\f</code></td>
<td>换页符</td>
</tr>
<tr>
<td><code>\?</code></td>
<td>问号符（防止与三元运算符冲突）</td>
</tr>
<tr>
<td><code>\xhh</code></td>
<td>以十六进制表示的字符</td>
</tr>
<tr>
<td><code>\ooo</code></td>
<td>以八进制表示的字符</td>
</tr>
</tbody></table>
<hr>
<h2 id="Variables-and-Arithmetic-Expressions"><a href="#Variables-and-Arithmetic-Expressions" class="headerlink" title="Variables and Arithmetic Expressions"></a>Variables and Arithmetic Expressions</h2><blockquote>
<p>Any characters between &#x2F;_ and _&#x2F;are ignored by the compile<br>Comments may appear anywhere where a blank, tab or newline can.<br>这里提到了多行注释,用<code>/* */</code>包括注释块，编译器会无视它。</p>
</blockquote>
<blockquote>
<p>In C, all variables must be declared before they are used, usually at the beginning of the function before anyexecutable statements. A declaration announces the properties of variables; it consists of a name and a list of variables, such as</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">int</span> fahr, celsius;</span><br><span class="line"><span class="type">int</span> lower, upper, step;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>在使用 C 语言的变量之前，必须先声明，一般在要使用的函数或可执行语句之前，C 读取程序是按照顺序一行一行读取的，所以变量一定要提前声明好。</p>
<p>常用的变量类型如下表所示：</p>
<table>
<thead>
<tr>
<th>类型关键字</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>char</code></td>
<td>存储单个字符，占用 1 字节</td>
</tr>
<tr>
<td><code>int</code></td>
<td>存储整数，通常占用 4 字节（具体大小取决于编译器和系统）</td>
</tr>
<tr>
<td><code>float</code></td>
<td>存储单精度浮点数，遵循 IEEE 754 标准</td>
</tr>
<tr>
<td><code>double</code></td>
<td>存储双精度浮点数，比 float 有更高的精度和更大的范围</td>
</tr>
<tr>
<td><code>unsigned</code></td>
<td>无符号类型，可以存储正数和零，通常比有符号类型有更大的范围</td>
</tr>
<tr>
<td><code>short</code></td>
<td>短整型，通常占用 2 字节</td>
</tr>
<tr>
<td><code>long</code></td>
<td>长整型，通常占用 8 字节（在某些系统上可能是 4 字节）</td>
</tr>
<tr>
<td><code>long long</code></td>
<td>长长整型，至少占用 64 位</td>
</tr>
<tr>
<td><code>void</code></td>
<td>表示没有类型，用于函数没有返回值或指向无类型数据的指针</td>
</tr>
<tr>
<td><code>_Bool</code></td>
<td>布尔类型，存储值为 0 或 1，定义在 C99 标准中</td>
</tr>
<tr>
<td><code>_Complex</code></td>
<td>复数类型，用于存储复数，定义在 C99 标准中</td>
</tr>
</tbody></table>
<hr>
<blockquote>
<p>Each line of the table is computed the same way, so we use a loop that repeats once per output line; this is thepurpose of the while loop</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (i &lt; j)</span><br><span class="line">&#123;</span><br><span class="line">    i = <span class="number">2</span> * i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>如果每行都运行相同的程序，会显得很麻烦，可以使用 while 循环，在循环结构中，我们习惯性的按<code>Tab</code>键缩进，虽然 C 不会在意程序的外观，但为了程序的可读性，这是需要的。我们用<code>&#123;&#125;</code>包含循环内的程序，如果这里不用<code>&#123;&#125;</code>，那么 C 就只会默认执行 while 内的第一行程序。</p>
<hr>
<blockquote>
<p>printf is a general−purpose output formatting function.Its first argument is a string of characters to be printed, with each % indicating where one of the other (second, third, …) arguments is to be substituted, and in what form it is to be printed.</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\t%d\n&quot;</span>, fahr, celsius);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>关于<code>printf()</code>里面的<code>%d</code>,以及类似的占位符请看下表</p>
<table>
<thead>
<tr>
<th>占位符</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>%d</code></td>
<td>打印十进制整数（有符号）</td>
</tr>
<tr>
<td><code>%i</code></td>
<td>与 <code>%d</code> 相同</td>
</tr>
<tr>
<td><code>%u</code></td>
<td>打印十进制整数（无符号）</td>
</tr>
<tr>
<td><code>%o</code></td>
<td>打印八进制整数</td>
</tr>
<tr>
<td><code>%x</code></td>
<td>打印十六进制整数（小写字母）</td>
</tr>
<tr>
<td><code>%X</code></td>
<td>打印十六进制整数（大写字母）</td>
</tr>
<tr>
<td><code>%c</code></td>
<td>打印单个字符</td>
</tr>
<tr>
<td><code>%s</code></td>
<td>打印字符串</td>
</tr>
<tr>
<td><code>%f</code></td>
<td>打印浮点数（默认精度为 6 位小数）</td>
</tr>
<tr>
<td><code>%lf</code></td>
<td>打印双精度浮点数</td>
</tr>
<tr>
<td><code>%e</code></td>
<td>打印科学计数法表示的浮点数</td>
</tr>
<tr>
<td><code>%g</code></td>
<td>打印一般浮点数（根据数值的大小自动选择 <code>%f</code> 或 <code>%e</code>）</td>
</tr>
<tr>
<td><code>%p</code></td>
<td>打印指针（地址）</td>
</tr>
<tr>
<td><code>%%</code></td>
<td>打印百分号字符 <code>%</code></td>
</tr>
<tr>
<td><code>%n</code></td>
<td>打印到目前为止输出的字符数（用于计数）</td>
</tr>
</tbody></table>
<blockquote>
<p>By the way, printf is not part of the C language; there is no input or output defined in C itself. printf is just a useful function from the standard library of functions that are normally accessible to C programs. The behaviour of printf is defined in the ANSI standard, however, so its properties should be the same with anycompiler and library that conforms to the standard.</p>
</blockquote>
<p>这段话大致讲述了<code>printf()</code>和 C 的关系，C 并非包含<code>printf()</code>,而是 C 的标准库函数，所以需要引入标准库<code>stdio.h</code>(standard input output)。</p>
<p>关于浮点数，以下占位符请见下表：</p>
<table>
<thead>
<tr>
<th>占位符</th>
<th>描述</th>
<th>示例</th>
<th>输出</th>
</tr>
</thead>
<tbody><tr>
<td><code>%f</code></td>
<td>打印浮点数，默认精度为 6 位小数</td>
<td><code>printf(&quot;%.2f\n&quot;, 123.456789);</code></td>
<td>123.46</td>
</tr>
<tr>
<td><code>%e</code></td>
<td>打印科学计数法表示的浮点数</td>
<td><code>printf(&quot;%.2e\n&quot;, 123.456789);</code></td>
<td>1.23e+02</td>
</tr>
<tr>
<td><code>%g</code></td>
<td>打印一般浮点数，自动选择 <code>%f</code> 或 <code>%e</code></td>
<td><code>printf(&quot;%.2g\n&quot;, 123.456789);</code></td>
<td>123.46</td>
</tr>
<tr>
<td><code>%lf</code></td>
<td>打印双精度浮点数（与 <code>%f</code> 相同）</td>
<td><code>printf(&quot;%.2lf\n&quot;, 123.456789);</code></td>
<td>123.46</td>
</tr>
<tr>
<td><code>%.2f</code></td>
<td>打印浮点数并保留两位小数</td>
<td><code>printf(&quot;%.2f\n&quot;, 123.456789);</code></td>
<td>123.46</td>
</tr>
<tr>
<td><code>%.3f</code></td>
<td>打印浮点数并保留三位小数</td>
<td><code>printf(&quot;%.3f\n&quot;, 123.456789);</code></td>
<td>123.457</td>
</tr>
<tr>
<td><code>%.1f</code></td>
<td>打印浮点数并保留一位小数</td>
<td><code>printf(&quot;%.1f\n&quot;, 123.456789);</code></td>
<td>123.5</td>
</tr>
</tbody></table>
<h2 id="The-for-statement"><a href="#The-for-statement" class="headerlink" title="The for statement"></a>The for statement</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span>   <span class="comment">/* print Fahrenheit−Celsius table */</span></span></span><br><span class="line">    main()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> fahr;</span><br><span class="line">    <span class="keyword">for</span> (fahr = <span class="number">0</span>; fahr &lt;= <span class="number">300</span>; fahr = fahr + <span class="number">20</span>)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%3d %6.1f\n&quot;</span>, fahr, (<span class="number">5.0</span>/<span class="number">9.0</span>)*(fahr−<span class="number">3</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>The for statement is a loop, a generalization of the while. If you compare it to the earlier while, it soperation should be clear.<br>for 语句有三个部分：</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fahr = <span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>第一个部分在循环开始前执行，将<code>0</code>赋值给<code>fahr</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fahr &lt;= <span class="number">300</span></span><br></pre></td></tr></table></figure>

<p>第二个部分，是循环的条件，条件满足时，循环工作，当<code>fahr</code>达到<code>300</code>时，代表循环结束</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fahr = fahr + <span class="number">20</span></span><br></pre></td></tr></table></figure>

<p>第三个部分相当于一个步长，每次循环 fahr 都会加 20<br>这三个部分都会控制循环的次数</p>
<h2 id="Symbolic-Constants"><a href="#Symbolic-Constants" class="headerlink" title="Symbolic Constants"></a>Symbolic Constants</h2><blockquote>
<p>A #define line defines a symbolic name or symbolic constant to be aparticular string of characters</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> LOWER 0</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> UPPER 200</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> STEP 20</span></span><br></pre></td></tr></table></figure>

<p><code>LOWER</code> <code>UPPER</code> <code>STEP</code> 这些都是符号常量，注意，不是变量，而且这些值相当于是预处理命令，用<code>#define</code>来设置。</p>
<h2 id="Character-Input-and-Output"><a href="#Character-Input-and-Output" class="headerlink" title="Character Input and Output"></a>Character Input and Output</h2><blockquote>
<p>The standard library provides several functions for reading or writing one character at a time, of which <code>getchar</code> and <code>putchar</code> are the simplest. Each time it is called, getchar reads the next input character from a text stream and returns that as its value.</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c = getchar();</span><br></pre></td></tr></table></figure>

<p><code>getchar()</code>用于从键盘中检测输入的字符，注意不是字符串<br><code>putchar()</code>用于输出字符，虽然有的地方会写用<code>puts()</code>函数</p>
<h3 id="File-Copying"><a href="#File-Copying" class="headerlink" title="File Copying"></a>File Copying</h3><p>这里有一个复制一个字符的例子：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">main() &#123;</span><br><span class="line">    <span class="type">int</span> c;</span><br><span class="line"></span><br><span class="line">    c = getchar();</span><br><span class="line">    <span class="keyword">while</span> (c != EOF) &#123;</span><br><span class="line">        <span class="built_in">putchar</span>(c);</span><br><span class="line">        c = getchar();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>这里的 <code>!=</code>的意思是“不等于”</p>
</blockquote>
<p><code>EOF</code>是一个表示文件结束（End of File）的常量。它用于标识当程序从输入流中读取到文件或数据流的末尾时的状态。EOF 通常被定义为 -1，并且是在 stdio.h 头文件中定义的宏。</p>
<p>这个程序的意思是读取一个字符存入<code>c</code>,检查<code>c</code>是否为<code>EOF</code>,不是的话将<code>c</code>输出，继续读取字符，直到<code>EOF</code>条件达成，循环停止</p>
<h3 id="File-Counting"><a href="#File-Counting" class="headerlink" title="File Counting"></a>File Counting</h3><p>接下来看一下这个计数的程序</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stido.h&gt;</span></span></span><br><span class="line"><span class="comment">//count characters in input; 1st version</span></span><br><span class="line">main()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">long</span> nc;</span><br><span class="line">    <span class="keyword">while</span> (getchar != EOF)</span><br><span class="line">        ++nc;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, nc);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>The statement<code>++nc</code>persents a new operator <code>++</code>, whitch means <em>increment by one</em>.</p>
</blockquote>
<p>这样的操作可以避免写 <code>nc = nc+1</code>，这种写法不仅简单，还更有效率。<br>在这个程序中涉及到了 <code>long</code> 这种变量，而不是<code>int</code>,这里的<code>long</code>是一个长整型变量，它的存储比整型更高位的数字，需要使用<code>%ld</code>告诉<code>printf()</code>这个变量是长整型</p>
<p>可以把这个程序改成 for 循环类型,以及双精度浮点数</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stido.h&gt;</span></span></span><br><span class="line"><span class="comment">//count characters in input; 2nd version</span></span><br><span class="line">main()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">double</span> nc;</span><br><span class="line">    <span class="keyword">for</span> (nc =<span class="number">0</span>; getchar() != EOF;++nc)</span><br><span class="line">        ;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%.0f\n&quot;</span>, nc);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>The body of this for loop is empty, because all the work is done in the test and increment parts. But thegrammatical rules of C require that a for statement have a body. The isolated semicolon, called a nullstatement, is there to satisfy that requirement. We put it on a separate line to make it visible.</p>
</blockquote>
<h3 id="Line-Counting"><a href="#Line-Counting" class="headerlink" title="Line Counting"></a>Line Counting</h3><p>这是一个记录行数的代码</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">main() &#123;</span><br><span class="line">    <span class="type">int</span> c, nl;</span><br><span class="line"></span><br><span class="line">    nl = <span class="number">0</span>; <span class="comment">// 行计数器初始化为0</span></span><br><span class="line">    <span class="keyword">while</span> ((c = getchar()) != EOF) &#123; <span class="comment">// 读取输入字符，直到遇到EOF</span></span><br><span class="line">        <span class="keyword">if</span> (c == <span class="string">&#x27;\n&#x27;</span>) <span class="comment">// 检查是否是换行符</span></span><br><span class="line">            ++nl; <span class="comment">// 如果是换行符，行计数器加1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, nl); <span class="comment">// 输出行数</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>C 语言是支持嵌套的，程序中<code>while()</code>里面嵌套了<code>if</code>。<br><code>==</code>这里是等号，为了和<code>=</code>（赋值）作区分</p>
<h3 id="Word-Counting"><a href="#Word-Counting" class="headerlink" title="Word Counting"></a>Word Counting</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> IN  1  <span class="comment">// 表示在一个单词内部</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> OUT 0  <span class="comment">// 表示在一个单词外部</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">int</span> c, nl, nw, nc, state;</span><br><span class="line"></span><br><span class="line">    state = OUT;</span><br><span class="line">    nl = nw = nc = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> ((c = getchar()) != EOF) &#123;</span><br><span class="line">        ++nc;  <span class="comment">// 统计字符数量</span></span><br><span class="line">        <span class="keyword">if</span> (c == <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">            ++nl;  <span class="comment">// 统计行数</span></span><br><span class="line">        <span class="keyword">if</span> (c == <span class="string">&#x27; &#x27;</span> || c == <span class="string">&#x27;\n&#x27;</span> || c == <span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">            state = OUT;  <span class="comment">// 当前字符是空白符，表示不在单词内</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (state == OUT) &#123;</span><br><span class="line">            state = IN;  <span class="comment">// 如果之前不在单词内，遇到非空白字符，进入单词</span></span><br><span class="line">            ++nw;  <span class="comment">// 统计单词数量</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d %d %d\n&quot;</span>, nl, nw, nc);  <span class="comment">// 输出行数、单词数和字符数</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>state = OUT;</code>：初始状态为 OUT，即程序开始时不在单词内。<br><code>nl = nw = nc = 0;</code>：行数、单词数和字符数均初始化为 0。</p>
<p><code>#define IN 1</code>和 <code>#define OUT 0</code>：定义两个符号常量，IN 表示程序处于一个单词的内部，OUT 表示程序处于一个单词的外部。这种定义方式也被成为宏定义。</p>
<p><code>if (c == &#39; &#39; || c == &#39;\n&#39; || c == &#39;\t&#39;) state = OUT;</code>：如果读取到空格、换行符或制表符，则表示不在单词内部，state 设置为 OUT。<code>||</code>代表着或逻辑，所有参数中只要有一个参数为<code>True</code>,所有的参数都返回<code>True</code>。</p>
<h2 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a>Arrays</h2><blockquote>
<p>Let is write a program to count the number of occurrences of each digit, of white space characters (blank, tab,newline), and of all other characters. This is artificial, but it permits us to illustrate several aspects of C in one program:</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">main()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> c, i, nWhite, nother;</span><br><span class="line">    <span class="type">int</span> ndigit[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line">    nWhite = nother=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i&lt;<span class="number">10</span>; ++i)</span><br><span class="line">        ndigit[i] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (c = getchar() != EOF)</span><br><span class="line">        <span class="keyword">if</span>(c &gt;= <span class="string">&#x27;0&#x27;</span> &amp;c &lt;=<span class="string">&#x27;9&#x27;</span>)</span><br><span class="line">            ++ndigit[c-<span class="string">&#x27;0&#x27;</span>];</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">&#x27; &#x27;</span> || c == <span class="string">&#x27;\n&#x27;</span> || c == <span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">            ++nWhite;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            ++nother;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;digits = &quot;</span>);</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>;i&lt;<span class="number">10</span>; ++i)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,ndigit[i]);</span><br><span class="line">    <span class="built_in">printf</span>((<span class="string">&quot;, white space = %d, other = %d\n&quot;</span>,nwhite,nother));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>输出：digits &#x3D; 9 3 0 0 0 0 0 0 0 1, white space &#x3D; 123, other &#x3D; 345</p>
</blockquote>
<blockquote>
<p>The declaration <code>int ndigit[10];</code>declares ndigit to be an array of 10 integers. Array subscripts always start at zero in C, so the elements are ndigit[0], ndigit[1], …, ndigit[9]. This is reflected in the for loops that initialize and print the array</p>
</blockquote>
<ol>
<li><p><code>int ndigit[10];</code>：定义一个数组，数组大小为 10，每个元素类型为整型。数组的<code>[]</code>我们称为下标(subscript),数组的下标都是从 0 开始，所以数组的元素为<code>ndigit[0]</code>，<code>ndigit[1]</code>，…，<code>ndigit[9]</code>。</p>
</li>
<li><p><code>for (i = 0; i&lt;10; ++i)</code>：初始化数组，将数组所有元素初始化为 0。</p>
</li>
<li><p><code>if(c &gt;= &#39;0&#39; &amp;c &lt;=&#39;9&#39;)</code>：判断当前字符是否为数字，如果是，则将当前字符对应的数组元素加 1。</p>
</li>
<li><p><code>else if (c == &#39; &#39; || c == &#39;\n&#39; || c == &#39;\t&#39;)</code>：判断当前字符是否为空格、换行符或制表符，如果是，则将<code>nWhite</code>加 1。</p>
</li>
<li><p><code>else</code>：判断当前字符是否为其他字符，如果是，则将<code>nother</code>加 1。</p>
</li>
<li><p><code>printf(&quot;digits = &quot;);</code>：输出”digits &#x3D; “。</p>
</li>
<li><p><code>for(i = 0;i&lt;10; ++i)</code>：输出数组中的元素，格式为<code>%d</code>，表示整型。</p>
</li>
<li><p><code>printf((&quot;, white space = %d, other = %d\n&quot;,nwhite,nother));</code>：输出<code>nwhite</code>和<code>nother</code>的值，格式为<code>%d</code>，表示整型。</p>
</li>
</ol>
<hr>
<ul>
<li>题外话：</li>
</ul>
<p>数组是最基础的数据结构之一，提到数据结构，往往会想到增、删、查、改四个操作，我们可以通过下标访问数组中的元素，也可以通过下标修改数组中的元素。</p>
<ol>
<li>首先初始化数组<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> MAX_SIZE 100  <span class="comment">// 定义数组的最大容量</span></span></span><br><span class="line"><span class="type">int</span> data[MAX_SIZE];  <span class="comment">// 定义数组</span></span><br><span class="line"><span class="type">int</span> count = <span class="number">0</span>;       <span class="comment">// 当前存储的数据数量</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li>添加元素(增)<br>添加元素时，如果数组已满，则无法直接添加。可以通过检查当前计数器是否小于最大容量来判断是否可以添加。<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> value)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (count &lt; MAX_SIZE) &#123;</span><br><span class="line">        data[count++] = value;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;数组已满，无法添加。\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>删除元素(删)<br>由于数组是连续的，删除特定值时，不会自动移位，需要遍历数组找到该值并将其后的所有元素向前移动一位。<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 从数据集中删除指定值的函数</span></span><br><span class="line"><span class="comment">// 参数 value: 要删除的值</span></span><br><span class="line"><span class="comment">// 注意：这个函数假设有一个全局变量 &#x27;data&#x27; 用于存储数据，以及一个全局变量 &#x27;count&#x27; 表示当前数据集中的元素数量</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">remove</span><span class="params">(<span class="type">int</span> value)</span> &#123;</span><br><span class="line">    <span class="comment">// 初始化遍历索引</span></span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="comment">// 遍历数据集查找要删除的值</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; count; i++) &#123;</span><br><span class="line">        <span class="comment">// 如果找到了要删除的元素</span></span><br><span class="line">        <span class="keyword">if</span> (data[i] == value) &#123;</span><br><span class="line">            <span class="comment">// 结束循环，i现在指向要删除的元素</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 如果找到了要删除的元素</span></span><br><span class="line">    <span class="keyword">if</span> (i &lt; count) &#123;</span><br><span class="line">        <span class="comment">// 将所有在要删除元素后的元素向前移动一位</span></span><br><span class="line">        <span class="keyword">while</span> (i &lt; count - <span class="number">1</span>) &#123;</span><br><span class="line">            data[i] = data[i + <span class="number">1</span>];</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 减少数据集的计数，表示一个元素已被删除</span></span><br><span class="line">        count--;</span><br><span class="line">        <span class="comment">// 输出删除成功的消息</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;删除成功。\n&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 输出未找到该元素的消息</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;未找到该元素。\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>查找元素(查)<br>查找元素可以直接通过索引访问，也可以搜索某个值是否存在。<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 通过索引查找</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">find_by_index</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (index &gt;= <span class="number">0</span> &amp;&amp; index &lt; count) &#123;</span><br><span class="line">        <span class="keyword">return</span> data[index];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;  <span class="comment">// 假设-1表示未找到</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 搜索值</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">find_value</span><span class="params">(<span class="type">int</span> value)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; count; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (data[i] == value) &#123;</span><br><span class="line">            <span class="keyword">return</span> i;  <span class="comment">// 返回索引</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;  <span class="comment">// 未找到</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>修改元素(改)<br>修改元素通常也是基于索引来操作。<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">update</span><span class="params">(<span class="type">int</span> index, <span class="type">int</span> new_value)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (index &gt;= <span class="number">0</span> &amp;&amp; index &lt; count) &#123;</span><br><span class="line">        data[index] = new_value;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;索引超出范围。\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="Functions"><a href="#Functions" class="headerlink" title="Functions"></a>Functions</h2><blockquote>
<p>A function provides a convenient way to encapsulate some computation, which can then be used without worrying about its implementation. </p>
</blockquote>
<p>函数提供了一种封装计算，使其可以方便使用的方式。函数可以被重复使用，而无需关心其内部实现。</p>
<p>之前我们就已经学会使用一些函数了比如<code>getchar()</code>，<code>putchar()</code>，<code>printf()</code>等。现在，是时候自己来写一个函数了。<br>C最早是无法像Fortran或者Python那样用<code>**</code>来进行幂运算，所以下面的程序我们自定义一个函数用来求幂。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 计算给定基数的幂</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * @param base 基数</span></span><br><span class="line"><span class="comment"> * @param n 幂次</span></span><br><span class="line"><span class="comment"> * @return 计算结果</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">power</span><span class="params">(<span class="type">int</span> base, <span class="type">int</span> n)</span>; <span class="comment">// 函数声明</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 主函数</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * 通过调用power函数，打印2的幂和-3的幂</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * @return 返回程序退出码</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">main()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="comment">// 遍历0到9，打印不同基数的幂</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d %d %d\n&quot;</span>, i, power(<span class="number">2</span>, i), power(<span class="number">-3</span>, i));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 计算给定基数的幂</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * @param base 基数</span></span><br><span class="line"><span class="comment"> * @param n 幂次</span></span><br><span class="line"><span class="comment"> * @return 计算结果</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">power</span><span class="params">(<span class="type">int</span> base, <span class="type">int</span> n)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i, p;</span><br><span class="line">    p = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// 通过循环计算幂值</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        p = p * base;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>函数的定义遵循以下格式：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">return_type <span class="title function_">function_name</span><span class="params">(parameter declaration <span class="keyword">if</span> any)</span></span><br><span class="line">&#123;</span><br><span class="line">    declarations</span><br><span class="line">    statements</span><br><span class="line">    <span class="keyword">return</span> expression;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>函数的声明格式为：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">return_type <span class="title function_">function_name</span><span class="params">(parameter declaration <span class="keyword">if</span> any)</span>;</span><br></pre></td></tr></table></figure>
<p>在函数声明时是可以不写出参数的声明，但是函数定义时必须写出参数的声明。<br>如果函数没有返回值，可以省略<code>return_type</code>，直接写<code>void</code>。</p>
<h2 id="Arguments-Call-by-Value"><a href="#Arguments-Call-by-Value" class="headerlink" title="Arguments - Call by Value"></a>Arguments - Call by Value</h2><blockquote>
<p>In C, all function arguments are passed <code>by value</code>. This means that the called function is given the values of its arguments in temporary variables rather than the originals. This leads to some different properties than are seen with <code>call by reference </code>languages like Fortran or with var parameters in Pascal, in which the called routine has access to the original argument, not a local copy.<br>在C中，所有函数参数都是通过值传递的。这意味着被调用的函数被赋予了参数的临时变量而不是原始值。这导致一些与<code>call by reference</code>语言（如Fortran或Pascal中的var参数）中看到的不同特性。</p>
</blockquote>
<ol>
<li>函数参数是临时变量：在函数调用时，函数参数被赋予临时变量，而不是原始参数。</li>
<li>函数参数是独立的：函数参数是独立的，对函数参数的修改不会影响原始参数。</li>
<li>函数参数是只读的：函数参数是只读的，不能修改函数参数的值。</li>
</ol>
<p>请看下面程序</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 函数参数是临时变量 */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br><span class="line">    change(a);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">change</span><span class="params">(<span class="type">int</span> a)</span></span><br><span class="line">&#123;</span><br><span class="line">    a = <span class="number">20</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>输出为：<br>a &#x3D; 10<br>a &#x3D; 20<br>a &#x3D; 10</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 函数参数是独立的 */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br><span class="line">    change(&amp;a);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">change</span><span class="params">(<span class="type">int</span> *a)</span></span><br><span class="line">&#123;</span><br><span class="line">    *a = <span class="number">20</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, *a);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>输出为：<br>a &#x3D; 10<br>a &#x3D; 20<br>a &#x3D; 20<br>a &#x3D; 20</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 函数参数是只读的 */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br><span class="line">    change(a);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">change</span><span class="params">(<span class="type">int</span> a)</span></span><br><span class="line">&#123;</span><br><span class="line">    a = <span class="number">20</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>输出为：<br>a &#x3D; 10<br>a &#x3D; 20<br>a &#x3D; 10</p>
</blockquote>
<h2 id="Character-Arrays"><a href="#Character-Arrays" class="headerlink" title="Character Arrays"></a>Character Arrays</h2><blockquote>
<p>The most common type of array in C is the array of characters. To illustrate the use of character arrays and functions to manipulate them, let’s write a program that reads a set of text lines and prints the longest. The outline is simple enough:</p>
</blockquote>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> ( there<span class="number">&#x27;</span>s another line)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(it<span class="number">&#x27;</span>s longer than the previous longest)</span><br><span class="line">    (save it)</span><br><span class="line">    (save its length)</span><br><span class="line">    print the longest line</span><br><span class="line">&#125;</span><br><span class="line">This outline makes it clear that the program divides naturally into pieces. One piece gets a new line, another saves it, and the rest controls the process.</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span> 读取文本行：使用`fgets()`函数读取一行文本，直到遇到换行符为止。</span><br><span class="line"><span class="number">2.</span> 比较行长度：使用`<span class="built_in">strlen</span>()`函数计算行长度，并与之前的最长行进行比较。</span><br><span class="line"><span class="number">3.</span> 保存最长行：如果当前行更长，则保存该行。</span><br><span class="line"><span class="number">4.</span> 打印最长行：打印保存的最长行。</span><br><span class="line">```C</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAXLINE 1000</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 读取一行文本到line数组中，并返回读取到的字符数。</span></span><br><span class="line"><span class="comment"> * 如果到达文件末尾或读取失败，返回0。</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * @param s 目标字符串数组</span></span><br><span class="line"><span class="comment"> * @param lim 字符数组的最大容量</span></span><br><span class="line"><span class="comment"> * @return 返回读取到的字符数（不包括终止符&#x27;\0&#x27;）</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">int</span> getline(<span class="type">char</span> s[], <span class="type">int</span> lim);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 主函数</span></span><br><span class="line"><span class="comment"> * 该程序读取文本行，并打印出长度超过80个字符的行。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> len;</span><br><span class="line">    <span class="type">char</span> line[MAXLINE];</span><br><span class="line">    <span class="comment">// 循环读取文本行，直到文件结束或读取失败</span></span><br><span class="line">    <span class="keyword">while</span> ((len = getline(line, MAXLINE)) &gt; <span class="number">0</span>)</span><br><span class="line">        <span class="comment">// 如果文本行长于80个字符，则打印出来</span></span><br><span class="line">        <span class="keyword">if</span> (len &gt; <span class="number">80</span>)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>, line);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 读取一行文本到line数组中，并返回读取到的字符数。</span></span><br><span class="line"><span class="comment"> * 如果到达文件末尾或读取失败，返回0。</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * @param s 目标字符串数组</span></span><br><span class="line"><span class="comment"> * @param lim 字符数组的最大容量</span></span><br><span class="line"><span class="comment"> * @return 返回读取到的字符数（不包括终止符&#x27;\0&#x27;）</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">getline</span><span class="params">(<span class="type">char</span> s[], <span class="type">int</span> lim)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> c, i;</span><br><span class="line">    <span class="comment">// 读取字符，直到达到数组容量上限、遇到EOF或换行符</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; lim - <span class="number">1</span> &amp;&amp; (c = getchar()) != EOF &amp;&amp; c != <span class="string">&#x27;\n&#x27;</span>; ++i)</span><br><span class="line">        s[i] = c;</span><br><span class="line">    <span class="comment">// 如果遇到换行符，将其读入字符串中</span></span><br><span class="line">    <span class="keyword">if</span> (c == <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">        s[i++] = c;</span><br><span class="line">    <span class="comment">// 添加字符串终止符</span></span><br><span class="line">    s[i] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    <span class="comment">// 返回读取到的字符数</span></span><br><span class="line">    <span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h2 id="External-Variables-and-Scope"><a href="#External-Variables-and-Scope" class="headerlink" title="External Variables and Scope"></a>External Variables and Scope</h2><p>外部变量是在函数外部定义的变量，可以在整个程序中访问和修改。<br>在C语言中，外部变量的声明和定义必须在同一个作用域内，否则会报错。</p>
<ol>
<li>在函数内部定义的变量是局部变量，只能在函数内部访问和修改。</li>
<li>在函数外部定义的变量是外部变量，可以在整个程序中访问和修改。</li>
<li>在函数内部定义的变量和函数外部定义的变量可以重名，但作用域不同。<br>请看下面程序<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">func</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">20</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a = %d\n&quot;</span>, a);</span><br><span class="line">    func();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>输出为：<br>a &#x3D; 10<br>a &#x3D; 20</p>
</blockquote>
</li>
</ol>
<p>关于外部链接(extern)<br>在C语言中，外部链接(extern)用于声明一个外部变量或函数，使得该变量或函数可以在多个文件中被引用。</p>
<ol>
<li>在一个文件中定义一个外部变量或函数，然后在另一个文件中声明该变量或函数，使得两个文件中的变量或函数可以互相访问。</li>
<li>在一个文件中定义一个外部变量或函数，然后在另一个文件中定义同名的变量或函数，使得两个文件中的变量或函数可以互相访问，但作用域不同。<br>请看下面程序<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 声明全局变量 a</span></span><br><span class="line"><span class="keyword">extern</span> <span class="type">int</span> a = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数 func 修改全局变量 a 的值并打印</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">func</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;In func: a = %d\n&quot;</span>, a);</span><br><span class="line">    a = <span class="number">20</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;After modification in func: a = %d\n&quot;</span>, a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 打印初始值</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Initial value of a: a = %d\n&quot;</span>, a);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 调用 func 函数</span></span><br><span class="line">    func();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 打印修改后的值</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Final value of a: a = %d\n&quot;</span>, a);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
在实际开发中，还是尽量避免使用全局变量，因为全局变量容易造成命名冲突，难以维护和理解。</li>
</ol>
<hr>
<h2 id="第一章总结"><a href="#第一章总结" class="headerlink" title="第一章总结"></a>第一章总结</h2><p>第一章是一个整体的介绍，开门见山地讲了C是有什么语法，有什么数据结构，变量有什么定义方式，程序结构是什么，表达式和运算符怎么用等等，是比较基础的一些内容，但没有对语言的细节进行介绍比如函数参数的指针的用法,结构体等等。这一章主要目的是让读者快速了解 C 语言的基本框架和核心概念，为后续章节的学习打下基础。所以第一章并没有深入探讨一些更复杂的语言特性，例如：</p>
<p>函数参数的指针用法：如何通过指针传递参数，以及如何在函数中修改传入的变量。</p>
<ul>
<li>结构体：如何定义和使用结构体来组织复杂的数据。</li>
<li>指针操作：如何使用指针进行内存操作和动态分配。</li>
<li>高级控制结构：如 switch 语句、goto 语句等更复杂的控制流。</li>
<li>文件操作：如何读写文件，进行更复杂的 I&#x2F;O 操作。<br>这些更详细的语言特性和高级用法将在后续章节中逐步展开。第一章的主要目标是帮助读者快速入门，并为后续学习奠定基础。</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://sx9342.github.io">Rin_laurant</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://sx9342.github.io/2024/09/10/C%E8%AF%AD%E8%A8%80%E7%9F%A5%E8%AF%86%E7%AC%94%E8%AE%B01/">https://sx9342.github.io/2024/09/10/C%E8%AF%AD%E8%A8%80%E7%9F%A5%E8%AF%86%E7%AC%94%E8%AE%B01/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://sx9342.github.io" target="_blank">Rin_laurant's blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/C%E8%AF%AD%E8%A8%80/">C语言</a><a class="post-meta__tags" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%BD%AF%E4%BB%B6/">计算机软件</a></div><div class="post_share"><div class="social-share" data-image="/img/giFnui8.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/09/18/python%E7%88%AC%E8%99%AB%E5%B0%8F%E8%AE%A11/" title="python爬虫小计1"><img class="cover" src="https://cdn.jsdelivr.net/gh/JerryThomas/CDN/img/20230918122208.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">python爬虫小计1</div></div></a></div><div class="next-post pull-right"><a href="/2024/09/04/%E8%8B%B1%E8%AF%AD%E5%9B%9B%E7%BA%A7%E5%90%AC%E5%8A%9B%E6%96%B9%E6%B3%95-%E7%9F%AD%E7%89%87%E6%96%B0%E9%97%BB/" title="英语四级听力方法(短片新闻)"><img class="cover" src="/img/%E8%99%B9.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">英语四级听力方法(短片新闻)</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2024/09/18/python%E7%88%AC%E8%99%AB%E5%B0%8F%E8%AE%A11/" title="python爬虫小计1"><img class="cover" src="https://cdn.jsdelivr.net/gh/JerryThomas/CDN/img/20230918122208.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-18</div><div class="title">python爬虫小计1</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/sound-horizon-wallpaper-3.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Rin_laurant</div><div class="author-info__description">计算机爱好者，日系摇滚党，分享感兴趣的知识</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">9</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/sx9342"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#A-Tutorial-Introduction"><span class="toc-number">1.</span> <span class="toc-text">A Tutorial Introduction</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Getting-Started"><span class="toc-number">1.1.</span> <span class="toc-text">Getting Started</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Variables-and-Arithmetic-Expressions"><span class="toc-number">1.2.</span> <span class="toc-text">Variables and Arithmetic Expressions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#The-for-statement"><span class="toc-number">1.3.</span> <span class="toc-text">The for statement</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Symbolic-Constants"><span class="toc-number">1.4.</span> <span class="toc-text">Symbolic Constants</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Character-Input-and-Output"><span class="toc-number">1.5.</span> <span class="toc-text">Character Input and Output</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#File-Copying"><span class="toc-number">1.5.1.</span> <span class="toc-text">File Copying</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#File-Counting"><span class="toc-number">1.5.2.</span> <span class="toc-text">File Counting</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Line-Counting"><span class="toc-number">1.5.3.</span> <span class="toc-text">Line Counting</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Word-Counting"><span class="toc-number">1.5.4.</span> <span class="toc-text">Word Counting</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Arrays"><span class="toc-number">1.6.</span> <span class="toc-text">Arrays</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Functions"><span class="toc-number">1.7.</span> <span class="toc-text">Functions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Arguments-Call-by-Value"><span class="toc-number">1.8.</span> <span class="toc-text">Arguments - Call by Value</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Character-Arrays"><span class="toc-number">1.9.</span> <span class="toc-text">Character Arrays</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#External-Variables-and-Scope"><span class="toc-number">1.10.</span> <span class="toc-text">External Variables and Scope</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0%E6%80%BB%E7%BB%93"><span class="toc-number">1.11.</span> <span class="toc-text">第一章总结</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/09/18/python%E7%88%AC%E8%99%AB%E5%B0%8F%E8%AE%A11/" title="python爬虫小计1"><img src="https://cdn.jsdelivr.net/gh/JerryThomas/CDN/img/20230918122208.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="python爬虫小计1"/></a><div class="content"><a class="title" href="/2024/09/18/python%E7%88%AC%E8%99%AB%E5%B0%8F%E8%AE%A11/" title="python爬虫小计1">python爬虫小计1</a><time datetime="2024-09-18T04:00:08.000Z" title="发表于 2024-09-18 12:00:08">2024-09-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/10/C%E8%AF%AD%E8%A8%80%E7%9F%A5%E8%AF%86%E7%AC%94%E8%AE%B01/" title="C语言知识笔记1"><img src="/img/giFnui8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C语言知识笔记1"/></a><div class="content"><a class="title" href="/2024/09/10/C%E8%AF%AD%E8%A8%80%E7%9F%A5%E8%AF%86%E7%AC%94%E8%AE%B01/" title="C语言知识笔记1">C语言知识笔记1</a><time datetime="2024-09-10T07:42:56.000Z" title="发表于 2024-09-10 15:42:56">2024-09-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/04/%E8%8B%B1%E8%AF%AD%E5%9B%9B%E7%BA%A7%E5%90%AC%E5%8A%9B%E6%96%B9%E6%B3%95-%E7%9F%AD%E7%89%87%E6%96%B0%E9%97%BB/" title="英语四级听力方法(短片新闻)"><img src="/img/%E8%99%B9.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="英语四级听力方法(短片新闻)"/></a><div class="content"><a class="title" href="/2024/09/04/%E8%8B%B1%E8%AF%AD%E5%9B%9B%E7%BA%A7%E5%90%AC%E5%8A%9B%E6%96%B9%E6%B3%95-%E7%9F%AD%E7%89%87%E6%96%B0%E9%97%BB/" title="英语四级听力方法(短片新闻)">英语四级听力方法(短片新闻)</a><time datetime="2024-09-04T11:08:03.000Z" title="发表于 2024-09-04 19:08:03">2024-09-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/03/%E8%8B%B1%E8%AF%AD%E5%9B%9B%E7%BA%A7%E5%90%AC%E5%8A%9B%E6%96%B9%E6%B3%95/" title="英语四级听力笔记（核心方法）"><img src="/img/%E8%99%B9.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="英语四级听力笔记（核心方法）"/></a><div class="content"><a class="title" href="/2024/09/03/%E8%8B%B1%E8%AF%AD%E5%9B%9B%E7%BA%A7%E5%90%AC%E5%8A%9B%E6%96%B9%E6%B3%95/" title="英语四级听力笔记（核心方法）">英语四级听力笔记（核心方法）</a><time datetime="2024-09-03T10:08:28.000Z" title="发表于 2024-09-03 18:08:28">2024-09-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/02/Hello-World/" title="Hello World"><img src="/img/TypeWriting.js.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"/></a><div class="content"><a class="title" href="/2024/09/02/Hello-World/" title="Hello World">Hello World</a><time datetime="2024-09-02T12:56:33.000Z" title="发表于 2024-09-02 20:56:33">2024-09-02</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/giFnui8.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By Rin_laurant</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>